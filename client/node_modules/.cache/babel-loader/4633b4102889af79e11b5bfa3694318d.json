{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chiku\\\\LambdaSchool\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from '../api/axiosWithAuth';\n\nconst Login = props => {\n  const [credentials, setCredentials] = useState({}); // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n  const login = e => {\n    e.preventDefault();\n    axiosWithAuth().post('/api/login', credentials).then(response => {\n      localStorage.setItem('token', response.data.payload);\n      console.log(response);\n      props.history.push('/BubblePage');\n    }).catch(error => {\n      console.log(error.message);\n    });\n  };\n\n  const handleChange = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const removeToken = () => {\n    localStorage.removeItem('token');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: credentials.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    value: credentials.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Log in\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: removeToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, \"Remove Token\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/chiku/LambdaSchool/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axiosWithAuth","Login","props","credentials","setCredentials","login","e","preventDefault","post","then","response","localStorage","setItem","data","payload","console","log","history","push","catch","error","message","handleChange","target","name","value","removeToken","removeItem","username","password"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,aAAR,QAA4B,sBAA5B;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACrB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCL,QAAQ,CAAC,EAAD,CAA9C,CADqB,CAErB;AACA;;AACA,QAAMM,KAAK,GAAGC,CAAC,IAAI;AACjBA,IAAAA,CAAC,CAACC,cAAF;AACAP,IAAAA,aAAa,GAAGQ,IAAhB,CAAqB,YAArB,EAAmCL,WAAnC,EACGM,IADH,CACQC,QAAQ,IAAI;AAChBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACG,IAAT,CAAcC,OAA5C;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYN,QAAZ;AACAR,MAAAA,KAAK,CAACe,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AACD,KALH,EAMGC,KANH,CAMSC,KAAK,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACC,OAAlB;AACD,KARH;AASD,GAXD;;AAaA,QAAMC,YAAY,GAAGhB,CAAC,IAAI;AACxBF,IAAAA,cAAc,CAAC,EAAC,GAAGD,WAAJ;AAAiB,OAACG,CAAC,CAACiB,MAAF,CAASC,IAAV,GAAiBlB,CAAC,CAACiB,MAAF,CAASE;AAA3C,KAAD,CAAd;AACD,GAFD;;AAIA,QAAMC,WAAW,GAAG,MAAM;AACxBf,IAAAA,YAAY,CAACgB,UAAb,CAAwB,OAAxB;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEtB,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEF,WAAW,CAACyB,QAHrB;AAIE,IAAA,QAAQ,EAAEN,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAOE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEnB,WAAW,CAAC0B,QAHrB;AAIE,IAAA,QAAQ,EAAEP,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,CADF,eAgBE;AAAQ,IAAA,OAAO,EAAEI,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBF,CADF;AAoBD,CA7CD;;AA+CA,eAAezB,KAAf","sourcesContent":["import React, {useState} from \"react\";\r\nimport {axiosWithAuth} from '../api/axiosWithAuth';\r\n\r\nconst Login = props => {\r\n  const [credentials, setCredentials] = useState({});\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const login = e => {\r\n    e.preventDefault();\r\n    axiosWithAuth().post('/api/login', credentials)\r\n      .then(response => {\r\n        localStorage.setItem('token', response.data.payload);\r\n        console.log(response);\r\n        props.history.push('/BubblePage')\r\n      })\r\n      .catch(error => {\r\n        console.log(error.message);\r\n      })\r\n  }\r\n\r\n  const handleChange = e => {\r\n    setCredentials({...credentials, [e.target.name]: e.target.value})\r\n  }\r\n\r\n  const removeToken = () => {\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  return (\r\n    <div className='loginContainer'>\r\n      <form onSubmit={login}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={credentials.username}\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={credentials.password}\r\n          onChange={handleChange}\r\n        />\r\n        <button>Log in</button>\r\n      </form>\r\n      <button onClick={removeToken}>Remove Token</button>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}